% !TEX program = pdflatex
% !TEX ext =  --interaction=nonstopmode --enable-etex --enable-write18
% !BIB program = none
%%%==============================================================================
%% Copyright 2025-present by Alceu Frigeri
%%
%% This work may be distributed and/or modified under the conditions of
%%
%% * The [LaTeX Project Public License](http://www.latex-project.org/lppl.txt),
%%   version 1.3c (or later), and/or
%% * The [GNU Affero General Public License](https://www.gnu.org/licenses/agpl-3.0.html),
%%   version 3 (or later)
%%
%% This work has the LPPL maintenance status *maintained*.
%%
%% The Current Maintainer of this work is Alceu Frigeri
%%
%% This is version {0.0} {2027/13/33}
%%
%% The list of files that compose this work can be found in the README.md file at
%% https://ctan.org/pkg/tikzfxgraph
%%
%%%==============================================================================
\documentclass[10pt]{article}

\begin{document}
\ExplSyntaxOn
\keys_define:nn {my module / mod A}
  {  
    A key .usage:n = general ,
    A key .code:n = {A~ key:#1:~} ,
  }

\keys_define:nn {} 
  {
    my module / mod B .inherit:n = 
      { my module / mod A }
  }

\keys_define:nn {my module / mod B}
  {  
    B key .usage:n = general ,
    B key .code:n = {B~ key:#1:~} ,
  }
  
\keys_define:nn {} 
  {
    my module / mod C .inherit:n = 
      { my module / mod B }
  }

\keys_define:nn {my module / mod C}
  {  
    C key .usage:n = general ,
    C key .code:n = {C~ key:#1:~} ,
  }
  
  
\tl_new:N \l__test_keypre_i_tl  
\keys_precompile:nnN {my module / mod B} {A key=X , B key=Y } \l__test_keypre_i_tl  

pre~ test~i:~ \l__test_keypre_i_tl \par
  
\tl_show:N   \l__test_keypre_i_tl

\tl_new:N \l__test_keypre_ii_tl  
\keys_precompile:nnN {my module / mod B} {A key=Y } \l__test_keypre_ii_tl  

pre~ test~ii:~ \l__test_keypre_ii_tl \par

\tl_show:N   \l__test_keypre_ii_tl

A~ of~ A:  
\keys_set:nn { my module / mod A}  {A key}\par

A~ of~ B:  
\keys_set:nn { my module / mod B}  {A key}\par

%A~ of~ C:  
%\keys_set:nn { my module / mod C}  {A key}\par

\ExplSyntaxOff
\end{document} 