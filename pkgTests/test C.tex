% !TEX program = pdflatex
% !TEX ext =  --interaction=nonstopmode --enable-etex --enable-write18
% !BIB program = none
%%%==============================================================================
%% Copyright 2025-present by Alceu Frigeri
%%
%% This work may be distributed and/or modified under the conditions of
%%
%% * The [LaTeX Project Public License](http://www.latex-project.org/lppl.txt),
%%   version 1.3c (or later), and/or
%% * The [GNU Affero General Public License](https://www.gnu.org/licenses/agpl-3.0.html),
%%   version 3 (or later)
%%
%% This work has the LPPL maintenance status *maintained*.
%%
%% The Current Maintainer of this work is Alceu Frigeri
%%
%% This is version {0.0} {2027/13/33}
%%
%% The list of files that compose this work can be found in the README.md file at
%% https://ctan.org/pkg/tikzfxgraph
%%
%%%==============================================================================
\documentclass[10pt]{article}
\usepackage{pgfkeys}

\begin{document}
\pgfkeys{/my search path/.cd,
      .unknown/.code={
          \let\searchname=\pgfkeyscurrentname
          \pgfkeysalso{
              /a/\searchname/.try=#1,
              /b/\searchname/.retry=#1,
             /b/c/\searchname/.lastretry=#1
          }
      }
}

\pgfkeys{/a/.cd,
    foo/.code={foo a:#1\par},
    .unknown/.code={There it is: a/.unknown:#1\par} }

\pgfkeys{/b/c/.cd,  bar/.code={bar c:#1\par} }


\pgfkeys{/my search path/.cd, foo=E, bar=G, nope=P }

\pgfkeys{/a/.cd, nope=P }

\pgfkeys{/MY search path/.cd,
    .search also={ /A, /B, /B/C }
}

\pgfkeys{/A/.cd,
    foo/.code={foo A:#1\par},
    .unknown/.code={There it is: A/.unknown:#1\par} 
}

\pgfkeys{/B/C/.cd, bar/.code={bar C:#1\par} }

\pgfkeys{/MY search path/.cd, foo=E, bar=G, nope=P }

\pgfkeys{/A/.cd, nope=P }

\end{document} 

